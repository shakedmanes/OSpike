# v1.1.0 (2020-03-24)


### Features

* Add support for user authentication using shraga proxy and support ([21f2522](https://github.com/shakedmanes/authorization-server/commit/21f252200ad2a1fd48dc917ae130f2eacdc8f9d9))
* Add user information given by authentication provider on token ([1e7507a](https://github.com/shakedmanes/authorization-server/commit/1e7507ae162ad1cc303611c1a2a51780a43aa4d3))
* Create user permissions management endpoint for managing user ([e7eef2d](https://github.com/shakedmanes/authorization-server/commit/e7eef2d99e0da11ce92668fc30044695051da481))
* Creating improved decision endpoint for user consent ([7a51ad7](https://github.com/shakedmanes/authorization-server/commit/7a51ad7eddd5c43b7be9ba1b6ddf89d5964fcb0d))


# v1.0.0 (2020-03-24)


### Bug Fixes

* Add error handler to the management controller and routes, Closes [#5](https://github.com/shakedmanes/authorization-server/issues/5). Also fixed the problem with returning client manager authentication strategy errors, just pass the errors to the error handler. Closes [#11](https://github.com/shakedmanes/authorization-server/issues/11) ([9ec5627](https://github.com/shakedmanes/authorization-server/commit/9ec5627f237f08de3a0a84df839b0cb3dd9aef10))
* Add file name headers ([474cce8](https://github.com/shakedmanes/authorization-server/commit/474cce857e6444f132c790e5b662447762313653))
* Add JWT access token created for all the flows and update the token introspection for verifying the jwt and pass information about it. [#38](https://github.com/shakedmanes/authorization-server/issues/38) ([b992052](https://github.com/shakedmanes/authorization-server/commit/b99205299a467e9a60a6b868c36bef8896070ee6))
* Add Mongoose/Mongo error handler for deep error handling, Closes [#17](https://github.com/shakedmanes/authorization-server/issues/17) ([9b028ec](https://github.com/shakedmanes/authorization-server/commit/9b028ec0f2d3da41d9f7453491c65b77cc52bd62))
* Add oauth2.utils file including utilities for oauth2, modify generateCertificate script for generating public key and set ssl configuration in config ([38deb0e](https://github.com/shakedmanes/authorization-server/commit/38deb0e3e06066e7a1824ec2d56669d0a41026f7))
* Add passport wrapper for changing the 'unauthorized' text response to json, Also add not found route handling for changing 'Cannot XXX XXX/XXX' to 'Page not found' in json response ([659a321](https://github.com/shakedmanes/authorization-server/commit/659a32108a0dbf00240443cc768469832ecc3423))
* Add scope field in JWT payload ([ad6103a](https://github.com/shakedmanes/authorization-server/commit/ad6103a9d04b6953361ce49757cf300fd98bdfdc))
* Add validators for hostUri and redirectUri in the client model, Closes [#34](https://github.com/shakedmanes/authorization-server/issues/34) ([d2fbf7f](https://github.com/shakedmanes/authorization-server/commit/d2fbf7ff1b88ae883008bb5d21d4ea5521a2ed44))
* Adding more test cases validating the uniqueness of multiple hostsUris for making sure it unique ([1227659](https://github.com/shakedmanes/authorization-server/commit/122765976989314d52d3136ea2111793acb84b5b))
* Changing hostUri to hostUris for multiple hosts, and also add lowercase for host uris and redirect uris before validation ([4d55f79](https://github.com/shakedmanes/authorization-server/commit/4d55f7901d0dc027851fc0681dd26aeb1bc2d295))
* Fix 'expires_in' value to contain actual validation time in seconds of token ([742f697](https://github.com/shakedmanes/authorization-server/commit/742f69798f17889ff6ebe33bd453ec55c2e93325))
* Fix all OAuth2 flows and routes, basic OAuth2 flow is now working well. Closes [#1](https://github.com/shakedmanes/authorization-server/issues/1). Fix interfaces array type declarations and Add optional scopes property for client model. Closes [#7](https://github.com/shakedmanes/authorization-server/issues/7) ([b7cdfbb](https://github.com/shakedmanes/authorization-server/commit/b7cdfbb6af239c3540f29357587a9264d0d91928))
* Fix authorization code flow, validating when generating code, that we don't have token. Closes [#33](https://github.com/shakedmanes/authorization-server/issues/33). Also, Fix E11000 Mongo error message when there's duplicate tokens or authorization codes ([1fc98d3](https://github.com/shakedmanes/authorization-server/commit/1fc98d349dffc92f7bc64b4b2486ffc3e321d073))
* Fix circular imports when importing collectionName from model, also refactor interfaces of model to be in separated file ([5a4f0c0](https://github.com/shakedmanes/authorization-server/commit/5a4f0c0f36b2015776f6c897456653f45f174410))
* Fix client manager authentication strategy, still need to check if works ([ac6adc9](https://github.com/shakedmanes/authorization-server/commit/ac6adc981693c633ce02a3ad99752831a2a49c87))
* Fix code changes for different environment ([d2fe217](https://github.com/shakedmanes/authorization-server/commit/d2fe21735a1f3a4b8ce318c1e16012f4e708dae7))
* Fix errors and implement oauth2 routes, Add views and login and decision endpoints, Add automation scripts for copy files during compliation ([212ab04](https://github.com/shakedmanes/authorization-server/commit/212ab047376b4e96baa683919f485cdd445e0611))
* Fix hostname of jwt issuer. ([821343e](https://github.com/shakedmanes/authorization-server/commit/821343ee6706ac6132cd3ee19a744f5fab57351a))
* Fix incorrect path for ssl configuration files ([30c3c25](https://github.com/shakedmanes/authorization-server/commit/30c3c257f2ba3a25bc36abdcc36d00af78751e3c))
* Fix issue caused by having same values but different letter cases. Closes [#57](https://github.com/shakedmanes/authorization-server/issues/57) ([d6732b0](https://github.com/shakedmanes/authorization-server/commit/d6732b014dbf44c90d2254b871a4c2f1dbcb16db))
* Fix management verification on scopes of client manager cause of the new scope model ([226e580](https://github.com/shakedmanes/authorization-server/commit/226e580ebed9d8750af1fa1564cbc79614c92e74))
* Fix minor bug when importing utility functions from test file, instead just create new file with utility functions and import from there ([48ee3c7](https://github.com/shakedmanes/authorization-server/commit/48ee3c7b58f678b415858b521e7c77c614dc2afd))
* Fix multiple hosts bug when updating same host in array duplicated ([b32c84e](https://github.com/shakedmanes/authorization-server/commit/b32c84ea72abeb3fec8b784f35b8036f9f0d1503))
* Fix npm scripts, add start script and init script when first cloning the repo, add also scripts for generate certificates and generate env file ([c1b79f4](https://github.com/shakedmanes/authorization-server/commit/c1b79f43235775b6d7dbec141ee1c73686326ecd))
* Fix OAuth route validation error, reference incorrect route ([50d25f2](https://github.com/shakedmanes/authorization-server/commit/50d25f2e59942fbfc440921272fccdb4d9387759))
* Fix returning 'expires_at' in milliseconds timestamps ([5cf34ea](https://github.com/shakedmanes/authorization-server/commit/5cf34ea16461ba35ad8a895fba8e5bc71b6c5b8e))
* Fix token introspection endpoint to include audience verification and letting audience validate access token. ([0e699da](https://github.com/shakedmanes/authorization-server/commit/0e699dad26ea193bce7c138aa61d1c5032b69527))
* Fix token payload wasnt showing clientId. ([a0b9b8a](https://github.com/shakedmanes/authorization-server/commit/a0b9b8a51f25e23f585a7d2cb348901a8ef3908c))
* Fix tsc errors partially. ([9fe8e24](https://github.com/shakedmanes/authorization-server/commit/9fe8e2406fec9dcd3262d72e1b7b4433b6748263))
* Fixing all incorrect types in schemas of access token and referesh token ([fb9b966](https://github.com/shakedmanes/authorization-server/commit/fb9b966642f275bf494c105208aa1ee46c16d93e))
* Fixing client credentials flow, allow clients without scopes, add 'audience' index on access token model ([0f6d38d](https://github.com/shakedmanes/authorization-server/commit/0f6d38d56e4e7240a507c6273dd896103a83aafd))
* Fixing critical token expiration bug in client credentials flow, Closes [#42](https://github.com/shakedmanes/authorization-server/issues/42) ([e09c18a](https://github.com/shakedmanes/authorization-server/commit/e09c18abf286be806c43d017af46e2b6b3bb74b8))
* Fixing deletion of port when received 443 (URL Package overrides the port as default) ([69af2d3](https://github.com/shakedmanes/authorization-server/commit/69af2d376d91dd121de01ada2c4e885ce9d4f15e))
* Fixing hostUri and redirectUris regexs minor slipping use-cases ([923cfe6](https://github.com/shakedmanes/authorization-server/commit/923cfe61deb867dc24eae9aa21c0848d0272386f))
* Fixing integration errors with 3rd party users, fix passport client manager strategy validation of registration token, fix REST API to include clientId request parameter in read, update and delete requests and improve delete response with only status 204 (No-Content), fix hiding mongo internal fields in responses containing client model ([dad562f](https://github.com/shakedmanes/authorization-server/commit/dad562f332692afb44fbc9cd027e7c16f805f09f))
* Fixing the token introspection endpoint due incorrect algorithm used in jwt signing ([07a95fd](https://github.com/shakedmanes/authorization-server/commit/07a95fd18e669a09f8de5a3409ef828a5849ae08))
* Fixing ttl expiration time for access token and add note about future development for defining individual ttl for access token document ([847a26a](https://github.com/shakedmanes/authorization-server/commit/847a26a2ce0f55304a972a64ca6b19cff30ef9f1))
* Fixing update of case insensitive values in hostUri and redirectUris, as mentioned in [#56](https://github.com/shakedmanes/authorization-server/issues/56) ([5b8e3bf](https://github.com/shakedmanes/authorization-server/commit/5b8e3bfdf1a3473999e7ba370724a5dd83b521f5))
* Fixing update validators error, when using findOneAndUpdate, 'this' context cannot reference the updating model due the way mongoose designed so I just seperated the query ([a531b5c](https://github.com/shakedmanes/authorization-server/commit/a531b5ce93d6fe2625bcbf4e81d89af18b98a08a))
* Make use of the major error handler instead auth2orize default error handler. Closes [#29](https://github.com/shakedmanes/authorization-server/issues/29) ([ddb938d](https://github.com/shakedmanes/authorization-server/commit/ddb938dc03b130016a70811ac3fdc582e6bb1969))
* Refactoring the mongoose aggregation query on access token, add virtual field on access token model for populating the audience from clients collection. Closes [#47](https://github.com/shakedmanes/authorization-server/issues/47) ([d8065ec](https://github.com/shakedmanes/authorization-server/commit/d8065ecc1f898007eaa1c38b31793545afdae8d9))
* Refactoring the OAuth2 operations by deleting unnecessary validations, and change all simple mongoose query to lean queries, also delete in models validators the validation for unique and use index instead. ([ae6ddcf](https://github.com/shakedmanes/authorization-server/commit/ae6ddcf7a6641d21f383fce0082d5ce335ac836f))
* Remove unused imports ([25a1122](https://github.com/shakedmanes/authorization-server/commit/25a1122f03faebc4cd59fcaa4f01eb3b5c0bc17f))


### Features

* Add JWT access token in Authorization Code flow with audience specification in authorize request, also add the audience property to authCode model and accessToken model and make it part of the uniqueness of the models. Also make small quickfix for the problem in [#42](https://github.com/shakedmanes/authorization-server/issues/42) ([03c76aa](https://github.com/shakedmanes/authorization-server/commit/03c76aa1bda82995706778fcfb55efe5e84aa207))
* Add JWT access token in Client Credentials flow and audience parameter specification in request body ([93bfef8](https://github.com/shakedmanes/authorization-server/commit/93bfef8ed5d88c71ca398bb575180e3474a13341))
* Add JWT access token in Implicit flow and include audience parameter specification in request query parameters ([5cb3380](https://github.com/shakedmanes/authorization-server/commit/5cb338021314543c50f1fa3c62bb2ce0a32fc68f))
* Add JWT access token in Refresh token flow and use audience parameter in body request, also modify a little bit the quick fix of [#42](https://github.com/shakedmanes/authorization-server/issues/42) ([4c9213e](https://github.com/shakedmanes/authorization-server/commit/4c9213e8a406840f4a5a5ce0dd9c14ddec8b675c))
* Add JWT access token in Resource Owner Password Credentials and audience specification in body of the request ([f4cafd5](https://github.com/shakedmanes/authorization-server/commit/f4cafd5edc2dd1c1c7c3860e86b0d0e13d600809))
* Add mock of client management controller, interface and routes. Also configure the client model a little bit for applying the client management options ([133d230](https://github.com/shakedmanes/authorization-server/commit/133d23001c854fa2a6cd8cef33b713ca399acc0b))
* Add scope model and change access token and client models to support new scope model. Also created scopes utils for utilites for working with scopes ([5bf504d](https://github.com/shakedmanes/authorization-server/commit/5bf504da96f4424109f539a091e358962cd381d1))
* Add support for multiple tokens creation ([1971786](https://github.com/shakedmanes/authorization-server/commit/197178619900386eaa0ffa097166d6648593d2fa))
* Add token introspection route for introspect token information for specific clients ([3d4cb37](https://github.com/shakedmanes/authorization-server/commit/3d4cb374982d6c2554be7ae2c05447c7aae23d75))
* Addding '/.well-known' route for exporting certificate and public key in pem format and public key in jwks format as defined in specs. Closes [#44](https://github.com/shakedmanes/authorization-server/issues/44) ([e550b7c](https://github.com/shakedmanes/authorization-server/commit/e550b7c1f8e764a1b86db298dfcab9e61ad2c9e5))
* Added partial support for scope model ONLY in Client Credentials and Token Introspection ([ba3538a](https://github.com/shakedmanes/authorization-server/commit/ba3538a45d30a825135652121b7e8c0e448e3297))
* Adding client credentials reset feature for resetting client id and secret and all associated access tokens and authcodes ([d9ea146](https://github.com/shakedmanes/authorization-server/commit/d9ea146a881df9dc3d6e613f6b1bfa529ba6f271))
* Adding elastic apm monitor for the server ([db1fa5c](https://github.com/shakedmanes/authorization-server/commit/db1fa5c17fc20a4c9fd0d2e8ea2b9eb13edf2e84))
* Adding full logging for whole server, also update README.md and generation of env files ([35107b6](https://github.com/shakedmanes/authorization-server/commit/35107b6a8685d8c60a2b34ae50745ba5dff1f5e5))
* Adding host validation option for running the server with or without host validation of the requester, Closes [#71](https://github.com/shakedmanes/authorization-server/issues/71) ([236d025](https://github.com/shakedmanes/authorization-server/commit/236d025dddca9a50ce75ced9584caebdd31d50e0))
* Adding multiple hosts support for client model as mentioned in [#66](https://github.com/shakedmanes/authorization-server/issues/66) ([642b4cf](https://github.com/shakedmanes/authorization-server/commit/642b4cf121b9e9eb16ec19b57c8c7d8483f1c200))
* Adding multiple hostUri and checking of ip related to hostnames in hostnameUtils ([7aaa701](https://github.com/shakedmanes/authorization-server/commit/7aaa70182d112e71d3fbc1a56cf34390ee7fb973))
* Change only the client secret when resetting client credentials, so the ClientId remains as a constant. ([2c937ac](https://github.com/shakedmanes/authorization-server/commit/2c937ac6e58e3ca1fb255b62ecdffef08cdfb1de))
* Changing the redirectUris field to accept only suffix redirectUri instead of full redirectUri ([b9514ca](https://github.com/shakedmanes/authorization-server/commit/b9514ca5d2d0e43bfdb05df7bb523a73a5e46f20))
* Implement client manager authentication for client registration and management. Closes [#10](https://github.com/shakedmanes/authorization-server/issues/10). Fix whole client registration and management controller logic. Closes [#2](https://github.com/shakedmanes/authorization-server/issues/2) ([567df01](https://github.com/shakedmanes/authorization-server/commit/567df01ed70257822e2e15501d1776377f24cd1e))
* Implement client registration logic and routes without client manager authentication, Also implement passport strategy for client manager and registration token authentication, as Issued at [#2](https://github.com/shakedmanes/authorization-server/issues/2) ([5e13611](https://github.com/shakedmanes/authorization-server/commit/5e13611312ab00f849f630cea11bd227d2cd5ebd))


